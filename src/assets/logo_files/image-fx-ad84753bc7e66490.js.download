(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[991],{24485:function(e,t,i){(window.__NEXT_P=window.__NEXT_P||[]).push(["/tools/image-fx",function(){return i(61057)}])},61057:function(e,t,i){"use strict";i.r(t),i.d(t,{__N_SSP:function(){return ou},default:function(){return of}});var o=i(85893),r=i(964),n=i(67294),a=i(57645),l=i(96391),s=i(77493),d=i(41682),c=i(12944),m=i(67421),p=i(92658),h=i(45329),g=i(48583),u=i(96934),f=i(28189),x=i(56427),b=i(38293);let v=()=>{var e,t,i;let{t:r}=(0,m.$G)(),n=(0,c.p)(),[a]=(0,g.KO)(u.Zb),{addImageFxResultSet:l,currentRefineProperties:s,currentImageFxResultSet:v,removeImageFxResultById:I,setImageFxResult:y}=(0,d.T)(e=>({addImageFxResultSet:e.addImageFxResultSet,currentImageFxResultSet:e.currentImageFxResultSet,currentRefineProperties:e.currentRefineProperties,removeImageFxResultById:e.removeImageFxResultById,setImageFxResult:e.setImageFxResult})),{seedInfo:_,numImages:C,isSeedLocked:k,aspectRatio:j,imageModelInputType:P}=s,S=null!==(i=null==v?void 0:null===(t=v.images)||void 0===t?void 0:null===(e=t[0])||void 0===e?void 0:e.seed)&&void 0!==i?i:(0,h.qb)(),E=null===_.imageSetIndex,O=(0,h.qb)();k&&(O=E?_.seed:S);let R=f.h.imageFx.generateImages.useMutation({retry:(e,t)=>400!==(0,h.rY)(t)&&!(e>=3),retryDelay:e=>Math.min(3e3*2**e,3e4)});return{...R,fetchImages:e=>{let{imagePrompt:t,id:i}=e,d={userInput:{candidatesCount:C,prompts:[t],seed:O},clientContext:{sessionId:a,tool:p.Nv.IMAGE_FX},aspectRatio:j,modelInput:{modelNameType:P}};(0,x.FL)()&&y({partialResult:{id:i,prompt:t,refineProperties:{seedInfo:{seed:O,imageSetIndex:null},temperature:s.temperature,numImages:C,aspectRatio:j,isSeedLocked:k,imageModelInputType:P}},isNewCurrentResult:!0}),R.mutate(d,{onSuccess:e=>{var o,r,n,a,s,d,c,m,p;if((0,x.FL)()){let l=null===(n=e.result)||void 0===n?void 0:null===(r=n.imagePanels)||void 0===r?void 0:null===(o=r.at(0))||void 0===o?void 0:o.generatedImages;if(!l)throw Error("Couldn't fetch images");let m=null!==(c=null===(d=e.result)||void 0===d?void 0:null===(s=d.imagePanels)||void 0===s?void 0:null===(a=s.at(0))||void 0===a?void 0:a.prompt)&&void 0!==c?c:t;y({partialResult:{id:i,images:l.filter(Boolean).map(e=>{var t;return{seed:null!==(t=e.seed)&&void 0!==t?t:O,imageSrc:(0,h.e5)(e.encodedImage),mediaKey:e.mediaGenerationId,prompt:m}}).filter(e=>!0===b.t.safeParse(e).success)}})}else{let t=e.result.imagePanels;if(!t)throw Error("Couldn't fetch images");let i=((null===(p=t.at(0))||void 0===p?void 0:null===(m=p.generatedImages)||void 0===m?void 0:m.filter(e=>!!(e.encodedImage&&e.seed)))||[]).map(e=>({id:e.mediaGenerationId,base64:e.encodedImage,url:(0,h.e5)(e.encodedImage),seed:e.seed})).sort((e,t)=>e.seed-t.seed);if(!i.length)throw Error("No Valid Images were generated");l({id:(0,h.vV)(),prompt:t.at(0).prompt,images:i,selectedImage:i.at(0)})}},onError:e=>{let t=(0,h.rY)(e);switch(I(i),t){case 400:n({text:(0,o.jsx)(m.cC,{i18nKey:"imagefx_fetch_image_error_400",components:{a:(0,o.jsx)(w,{})}}),type:p.$n.ERROR,duration:1e4});break;case 403:n({text:r("imagefx_unsupported_country_headline"),type:p.$n.ERROR,duration:1e4});break;case 429:n({text:(0,o.jsx)(m.cC,{i18nKey:"musiclm_fetch_sound_error_429",components:{a:(0,o.jsx)(w,{})}}),type:p.$n.ERROR,duration:1e4});break;default:n({text:r("imagefx_fetch_image_error_500"),type:p.$n.ERROR,duration:1e4})}}})}}},w=r.ZP.a.withConfig({componentId:"sc-df7e7aa0-0"})(["text-decoration:underline;"]);var I=i(38439),y=i(89212),_=i(23630),C=i(98525),k=i(25937);let j=e=>{let{className:t,onStartOver:i,hasUserPrompt:n,isLoadingPrompt:a,isLoadingImage:l}=e,{currentImageFxResultSet:s}=(0,d.T)(e=>({currentImageFxResultSet:e.currentImageFxResultSet})),[,c]=(0,g.KO)(u.s1),{t:p}=(0,m.$G)(),{colors:h}=(0,r.Fg)();return(0,o.jsxs)(O,{className:t,children:[(0,o.jsx)(S,{label:p("feedback_flag_output"),onClick:()=>{var e,t,i,o;c({isDialogOpen:!0,mediaGenerationId:null!==(o=null!==(i=null==s?void 0:null===(e=s.selectedImage)||void 0===e?void 0:e.id)&&void 0!==i?i:null==s?void 0:null===(t=s.images.at(0))||void 0===t?void 0:t.id)&&void 0!==o?o:""})},icon:"flag",iconProps:{isOutlined:!0,iconSet:_.G.GOOGLE_SYMBOLS}}),(0,o.jsxs)(P,{children:[(0,o.jsxs)(Z,{onClick:i,disabled:!n||a||l,children:[(0,o.jsx)(_.O,{icon:"restart_alt",size:"1rem",color:h["md-white"],isOutlined:!0}),p("imagefx_start_over_button")]}),(0,o.jsx)(E,{...e})]})]})},P=r.ZP.div.withConfig({componentId:"sc-2317189d-0"})(["display:flex;flex-direction:row;@media (max-width:","){transform:scale(0.8);}"],e=>e.theme.breakpoints.mobileMini),S=(0,r.ZP)(k.h).withConfig({componentId:"sc-2317189d-1"})(["align-items:center;justify-content:center;transition:background-color 0.1s;background-color:",";width:2.5rem;height:2.5rem;min-width:2.5rem;border-radius:9999px;&:hover{background-color:",";}@media (max-width:","){transform:scale(0.8);}"],e=>e.theme.colors["md-grey-800"],e=>e.theme.colors["md-grey-700"],e=>e.theme.breakpoints.mobileMini),E=e=>{let{hasUserPrompt:t,isLoadingPrompt:i,isLoadingImage:n,onSubmit:a,onImFeelingLucky:l}=e,{t:s}=(0,m.$G)(),{colors:d}=(0,r.Fg)();return i?(0,o.jsxs)(L,{$width:"17.5rem",children:[(0,o.jsx)(N,{color:"BLURPLE",isDarkMode:!0,size:"1.25rem",borderSize:"2px"}),(0,o.jsx)(T,{children:s("imagefx_optimizing_prompt_loading_text_mobile")}),(0,o.jsx)(G,{children:s("imagefx_optimizing_prompt_loading_text")})]}):n?(0,o.jsxs)(L,{$width:"17.5rem",children:[(0,o.jsx)(N,{color:"BLURPLE",isDarkMode:!0,size:"1.25rem",borderSize:"2px"}),(0,o.jsx)(T,{children:s("imagefx_generating_image_text_mobile")}),(0,o.jsx)(G,{children:s("imagefx_generating_image_text")})]}):t?(0,o.jsxs)(L,{onMouseDown:h.uT,onClick:()=>a(),$width:"11rem",children:[(0,o.jsx)(_.O,{icon:"send_spark",size:"1rem",color:d["md-black"],iconSet:_.G.GOOGLE_SYMBOLS,isOutlined:!0}),s("imagefx_generate_button")]}):(0,o.jsxs)(L,{onMouseDown:h.uT,onClick:l,$width:"11rem",children:[(0,o.jsx)(_.O,{icon:"casino",size:"1.3rem",color:d["md-black"],iconSet:_.G.GOOGLE_SYMBOLS,isOutlined:!0}),(0,o.jsx)(M,{children:s("im_feeling_lucky_button_text")})]})},O=r.ZP.div.withConfig({componentId:"sc-2317189d-2"})(["gap:4px;display:flex;justify-content:space-between;"]),R=(0,r.iv)(["display:flex;flex-direction:row;align-items:center;justify-content:center;gap:0.5rem;",";text-overflow:ellipsis;transition:filter 0.2s ease;white-space:nowrap;overflow:hidden;"],e=>e.theme.typography.mdLabelLarge),Z=r.ZP.button.withConfig({componentId:"sc-2317189d-3"})([""," flex:1 1 auto;padding:0.6rem 1.5rem 0.6rem 1rem;background-color:",";color:",";border-radius:100px 4px 4px 100px;&:disabled{opacity:0.5;}@media (min-width:","){flex:1 0 auto;}"],R,e=>e.theme.colors["md-grey-800"],e=>e.theme.colors["md-white"],e=>e.theme.breakpoints.laptop),L=r.ZP.button.withConfig({componentId:"sc-2317189d-4"})([""," flex:2 1 auto;padding:0.6rem 1rem;background-color:",";color:",";border-radius:4px 100px 100px 4px;transition:filter 0.2s ease;&:not(:disabled):hover{filter:brightness(1.15);}@media (min-width:","){flex:0 0 auto;}"],R,e=>e.theme.colors["aitk-blurple-200"],e=>e.theme.colors["md-black"],e=>e.theme.breakpoints.laptop),M=r.ZP.span.withConfig({componentId:"sc-2317189d-5"})(["display:inline;overflow:hidden;text-overflow:ellipsis;"]),T=r.ZP.span.withConfig({componentId:"sc-2317189d-6"})(["display:inline;@media (min-width:","){display:none;}"],e=>e.theme.breakpoints.laptop),G=r.ZP.span.withConfig({componentId:"sc-2317189d-7"})(["display:none;@media (min-width:","){display:inline;}"],e=>e.theme.breakpoints.laptop),N=(0,r.ZP)(C.$).withConfig({componentId:"sc-2317189d-8"})(["flex:0 0 auto;"]);var F=i(8728),$=i(39918),A=i(17324),V=i(22455),z=i(13970);let D=r.ZP.div.withConfig({componentId:"sc-43cea947-0"})(["max-height:62.5rem;min-height:20rem;width:100%;flex:1;@media (max-width:","){min-height:0rem;}@media (max-width:","){padding:0 1rem;}"],e=>e.theme.breakpoints.tablet,e=>e.theme.breakpoints.laptop),Y=r.ZP.div.withConfig({componentId:"sc-43cea947-1"})(["display:flex;flex-direction:column;gap:0.5rem;background-color:",";border-radius:2rem;color:",";box-shadow:0 1rem 4rem 0 rgba(0,0,0,1);position:relative;width:100%;height:100%;align-self:center;overflow:hidden;@media (min-width:","){border-radius:3.5rem;}"],e=>e.theme.colors["md-grey-900"],e=>e.theme.colors["md-brown-100"],e=>e.theme.breakpoints.tablet),B=r.ZP.div.withConfig({componentId:"sc-43cea947-2"})(["flex:1;overflow-y:auto;padding:0.75rem 1rem 0.5rem 1rem;@media (min-width:","){padding:2rem 2rem 2rem;}"],e=>e.theme.breakpoints.tablet),U=(0,r.ZP)(I.E.div).withConfig({componentId:"sc-43cea947-3"})(["position:relative;height:100%;"]),K=(0,r.ZP)(A.nU).withConfig({componentId:"sc-43cea947-4"})(["position:absolute;top:0;left:0;right:0;bottom:0;"]),X=r.ZP.div.withConfig({componentId:"sc-43cea947-5"})(["position:absolute;top:-0.5rem;left:-0.5rem;width:calc(100% + (0.5rem * 2));height:calc(100% + 0.5rem);opacity:0.5;border-radius:24px;background-color:",";"],e=>e.theme.colors["md-grey-900"]),W=r.ZP.div.withConfig({componentId:"sc-43cea947-6"})(["display:flex;flex-direction:column;gap:1rem;padding:0 1rem 1rem;@media (min-width:","){padding:0 2rem 2rem;}"],e=>e.theme.breakpoints.tablet);var H=i(65820),Q=i(25675),J=i.n(Q),q=i(2261),ee=i(98918),et=i(65762),ei=i(50048),eo=i(4255);let er=e=>{let{className:t}=e,{t:i}=(0,m.$G)(),n=(0,r.Fg)(),{currentRefineProperties:a,setSeedInfo:l,toggleIsSeedLocked:s,setAspectRatio:c,setImageModelType:p,aspectRatio:h,imageModelType:g}=(0,d.T)(e=>({currentRefineProperties:e.currentRefineProperties,aspectRatio:e.currentRefineProperties.aspectRatio,imageModelType:e.currentRefineProperties.imageModelInputType,toggleIsSeedLocked:e.toggleIsSeedLocked,setSeedInfo:e.setSeedInfo,setAspectRatio:e.setAspectRatio,setImageModelType:e.setImageModelInputType})),{seedInfo:u,isSeedLocked:f}=a;return(0,o.jsxs)(en,{className:t,children:[(0,o.jsx)(ea,{children:i("imagefx_settings_prompt")}),(0,o.jsxs)(el,{children:[(0,o.jsx)(es,{labelId:"imagefx-seed-input",label:i("musiclm_refinement_seed"),value:u.seed,type:"number",iconProps:{isOutlined:!0,color:f?n.currentThemeColor["300"]:"currentColor"},icon:f?"lock":"lock_open_right",onChange:e=>{l({seed:parseInt(e.target.value,10),imageSetIndex:null})},disabled:!!f,onIconClick:()=>{s()},helperText:f&&null!==u.imageSetIndex?i("imagefx_refinement_seed_locked_subtitle",{set:u.imageSetIndex+1}):i(f?"imagefx_refinement_custom_seed_locked_subtitle":"imagefx_refinement_seed_subtitle")}),(0,x.cJ)()&&(0,o.jsx)(ed,{options:V.dj,onOptionClick:e=>{(0,V.vG)(e)?c(e):console.error("undefined aspect ratio")},value:"".concat(V.t8[h](i)),label:i("imagefx_refinement_aspect_ratio_label"),helperText:i("imagefx_refinement_aspect_ratio_subtitle")}),(0,x.QB)()&&(0,o.jsx)(ed,{options:V.zU,onOptionClick:e=>{(0,ei.SH)(e)?p(e):console.error("undefined image model type")},value:"".concat(V.OD[g]),label:i("imagefx_refinement_model_label"),helperText:i("imagefx_refinement_model_most_detailed_subtitle")})]})]})},en=r.ZP.div.withConfig({componentId:"sc-23caf394-0"})(["border-radius:4px;display:flex;flex-direction:column;gap:1.5rem;padding:1.5rem;border-top-left-radius:28px;border-top-right-radius:28px;"]),ea=r.ZP.h3.withConfig({componentId:"sc-23caf394-1"})(["color:",";font-size:0.75rem;font-weight:500;line-height:1rem;letter-spacing:0.1px;"],e=>e.theme.colors["md-grey-500"]),el=r.ZP.div.withConfig({componentId:"sc-23caf394-2"})(["display:flex;flex-direction:row;flex-flow:wrap;gap:1rem;"]),es=(0,r.ZP)(eo.n).withConfig({componentId:"sc-23caf394-3"})(["min-width:7rem;&::-webkit-inner-spin-button{-webkit-appearance:none;margin:0;}"]),ed=(0,r.ZP)(et.l).withConfig({componentId:"sc-23caf394-4"})(["height:3rem;"]);var ec=i(158),em=i(30745),ep=i(25683),eh=i(18399),eg=i(28167),eu=i(60761),ef=i(39134);let ex=e=>{let{color:t,uncheckedIcon:i,checkedIcon:r,...n}=e;return(0,o.jsx)(ef.b,{colorTheme:t,children:(0,o.jsxs)(ev,{...n,children:[(0,o.jsx)(ew,{}),(0,o.jsxs)(eI,{children:[(0,o.jsx)(eb,{$active:!n.checked,size:"1.25rem",icon:i,isOutlined:!0,iconSet:_.G.GOOGLE_SYMBOLS}),(0,o.jsx)(eb,{$active:!!n.checked,size:"1.25rem",icon:r,isOutlined:!0,iconSet:_.G.GOOGLE_SYMBOLS})]})]})})},eb=(0,r.ZP)(_.O).withConfig({componentId:"sc-9bc55d-0"})(["color:",";transition:color 0.1s ease-in-out;"],e=>e.$active?e.theme.currentThemeColor[700]:e.theme.colors["aitk-white-25"]),ev=(0,r.ZP)(eu.fC).withConfig({componentId:"sc-9bc55d-1"})(["background-color:transparent;border-radius:75px;box-shadow:0 0 0 1px ",";flex-grow:0;height:2.5rem;position:relative;user-select:none;width:5rem;min-width:5rem;transition:filter 0.1s ease-in-out;&:disabled{opacity:0.5;}&:not(:disabled):hover{filter:brightness(1.25);}"],e=>e.theme.colors["aitk-white-15"]),ew=(0,r.ZP)(eu.bU).withConfig({componentId:"sc-9bc55d-2"})(["background-color:",";border-radius:100%;display:block;height:2.083rem;transform:translateX(0.25rem);transition:transform 0.1s ease-in-out,box-shadow 0.1s ease-in-out;width:2.083rem;will-change:transform box-shadow;&[data-state='checked']{transform:translateX(2.7rem);}"],e=>e.theme.currentThemeColor[300]),eI=r.ZP.div.withConfig({componentId:"sc-9bc55d-3"})(["align-items:center;display:flex;flex-direction:row;height:100%;justify-content:space-around;left:0;position:absolute;top:0;width:100%;"]),ey=e=>{var t;let{className:i,isLoadingImage:r}=e,{handleLogEvent:a}=(0,z.an)(),{t:l}=(0,m.$G)(),s=(0,c.p)(),x=(0,eg.z)(),b=(0,n.useRef)(),[v,w]=(0,n.useState)(!1),{imageFxResultSets:I,currentImageFxResultSet:y,prevImageFxResultSet:C,nextImageFxResultSet:k,isRefinePanelOpen:j,toggleRefinePanel:P,isGridMode:S,setIsGridMode:E,setImageFxSelectedImage:O}=(0,d.T)(e=>({imageFxResultSets:e.imageFxResultSets,currentImageFxResultSet:e.currentImageFxResultSet,prevImageFxResultSet:e.prevImageFxResultSet,nextImageFxResultSet:e.nextImageFxResultSet,setImageFxSelectedImage:e.setImageFxSelectedImage,isRefinePanelOpen:e.isRefinePanelOpen,toggleRefinePanel:e.toggleRefinePanel,isGridMode:e.isGridMode,setIsGridMode:e.setIsGridMode})),R=(0,n.useRef)(null),{isBelowWidth:Z}=(0,em.r)(ec.A.tablet),[,L]=(0,g.KO)(u.s1),M=I.findIndex(e=>e.id===(null==y?void 0:y.id)),T=!Z&&S,{mutate:G}=f.h.media.submitShareMedia.useMutation({onSuccess:e=>{var t,i,o;let r=null!==(o=e.result.mediaExternalId)&&void 0!==o?o:null==y?void 0:null===(t=y.selectedImage)||void 0===t?void 0:t.id;if(!r)throw Error("No id found for sharing");let n=(0,ei.Oq)(r);window.open(n,"_blank"),a([{event:z.E_.SHARE,eventProperties:[{key:z.Nn.TOOL_NAME,stringValue:p.Nv.IMAGE_FX}],eventMetadata:{mediaGenerationId:null==y?void 0:null===(i=y.selectedImage)||void 0===i?void 0:i.id}}])},onError:()=>{s({text:l("error_share_link"),type:p.$n.ERROR,actionText:l("user_modal_send_feedback"),onAction:()=>x()})}}),N=(null==y?void 0:y.images.length)===1;(0,n.useEffect)(()=>{if(!(null==y?void 0:y.selectedImage))return;let e=y.images.findIndex(e=>e.id===y.selectedImage.id);if(-1!==e&&!T){var t;null==R||null===(t=R.current)||void 0===t||t.swiper.slideTo(e)}},[y,T]),(0,n.useEffect)(()=>{N&&E(!1)},[y]);let F=()=>{b.current&&clearTimeout(b.current),w(!0),b.current=setTimeout(()=>{w(!1)},300)};(0,n.useEffect)(()=>()=>{b.current&&clearTimeout(b.current)},[]);let $=(0,ep.X)("laptop")?{type:"spring",duration:.5,bounce:0}:{},A=I.length>0,V="undefined"!=typeof ClipboardItem;return(0,o.jsxs)(eM,{className:i,children:[(0,o.jsxs)(e_,{$showGrid:T,$isRefinePanelOpen:j,$isSettingPanelTransitioning:v,transition:$,children:[(0,o.jsxs)(eT,{children:[(0,o.jsxs)(eG,{children:[(0,o.jsx)(eN,{onClick:()=>{var e;let t=C();void 0!==t&&-1!==t&&(T||null==R||null===(e=R.current)||void 0===e||e.swiper.slideTo(t))},disabled:!A||0===M,children:(0,o.jsx)(_.O,{icon:"arrow_left_alt",size:"1.5rem",color:"currentColor",iconSet:_.G.GOOGLE_SYMBOLS})}),(0,o.jsx)(eF,{onClick:()=>{var e;let t=k();void 0!==t&&-1!==t&&(T||null==R||null===(e=R.current)||void 0===e||e.swiper.slideTo(t))},disabled:!A||M===I.length-1,children:(0,o.jsx)(_.O,{icon:"arrow_right_alt",size:"1.5rem",color:"currentColor",iconSet:_.G.GOOGLE_SYMBOLS})}),(0,o.jsx)(e$,{children:(0,o.jsx)(eA,{children:A?l("imagefx_image_set_count",{count:"".concat(M+1,"/").concat(I.length)}):l("imagefx_no_images_nav_text")})})]}),!Z&&(0,o.jsx)(ex,{"aria-label":l("imagefx_grid_toggle_label"),checked:!S,disabled:!A||N,onCheckedChange:()=>E(!S),uncheckedIcon:"grid_view",checkedIcon:"gallery_thumbnail",color:"BLURPLE"})]}),y?T?(0,o.jsx)(eB,{$hasContent:A,children:y.images.map(e=>(0,o.jsxs)(eU,{onClick:()=>{E(!1),O(e),w(!1)},children:[(0,o.jsx)(eK,{alt:l("imagefx_generated_image_alt"),fill:!0,src:e.url}),(0,o.jsx)(eX,{label:l("feedback_flag_output"),onClick:t=>{t.stopPropagation(),L({isDialogOpen:!0,mediaGenerationId:e.id})},icon:"flag",iconProps:{isOutlined:!0,iconSet:_.G.GOOGLE_SYMBOLS}})]},e.id))}):(0,o.jsxs)(eC,{children:[(0,o.jsx)(q.tq,{ref:R,modules:[ee.N1],slidesPerView:"auto",centeredSlides:!0,spaceBetween:10,onSlideChangeTransitionStart:e=>{let t=y.images[e.activeIndex];void 0!==t&&O(t)},keyboard:{enabled:!0},style:{height:"100%",overflow:"visible",width:"100%"},children:null==y?void 0:y.images.map((e,t)=>(0,o.jsx)(q.o5,{onClick:()=>{var e;null==R||null===(e=R.current)||void 0===e||e.swiper.slideTo(t)},children:(0,o.jsxs)(ek,{children:[(0,o.jsx)(eO,{alt:l("imagefx_generated_image_alt"),src:e.url,fill:!0}),(0,o.jsxs)(ej,{$showHoverContainer:!j&&e===y.selectedImage,children:[(0,o.jsxs)(eW,{children:[(0,o.jsxs)(eH,{children:[(0,o.jsxs)(eQ,{onClick:async()=>{await (0,h.vQ)(y.prompt),s({text:l("imagefx_copy_prompt_success"),type:p.$n.SUCCESS}),a([{event:z.E_.COPY_IMAGE,eventProperties:[{key:z.Nn.TOOL_NAME,stringValue:p.Nv.IMAGE_FX}],eventMetadata:{mediaGenerationId:e.id}}])},children:[(0,o.jsx)(_.O,{icon:"content_copy",color:"currentColor",size:"1rem"}),(0,o.jsx)("span",{children:l("copy_prompt")})]}),V&&(0,o.jsxs)(eJ,{onClick:async()=>{try{await (0,ei.VP)(e.url),s({text:l("imagefx_copy_image_success"),type:p.$n.SUCCESS}),a([{event:z.E_.COPY_IMAGE,eventProperties:[{key:z.Nn.TOOL_NAME,stringValue:p.Nv.IMAGE_FX}],eventMetadata:{mediaGenerationId:e.id}}])}catch(e){}},children:[(0,o.jsx)(_.O,{icon:"content_copy",color:"currentColor",size:"1rem"}),(0,o.jsx)("span",{children:l("imagefx_copy_image")})]})]}),(0,o.jsx)(eq,{onClick:()=>{L({isDialogOpen:!0,mediaGenerationId:e.id})},children:(0,o.jsx)(_.O,{icon:"flag",color:"currentColor"})})]}),(0,o.jsx)(eP,{children:y.prompt})]})]})},t))}),(0,o.jsx)(eS,{children:y.images.map((e,t)=>(0,o.jsx)(eE,{onClick:()=>{var i;null==R||null===(i=R.current)||void 0===i||i.swiper.slideTo(t),O(e)},$selected:e.id===y.selectedImage.id,children:(0,o.jsx)(eR,{alt:l("imagefx_generated_image_alt"),src:e.url,fill:!0})},e.id))})]}):(0,o.jsx)(eZ,{children:Z?(0,o.jsx)(eL,{$isLoadingImage:r,$delay:0}):(0,o.jsx)(o.Fragment,{children:Array.from({length:4}).map((e,t)=>(0,o.jsx)(eL,{$isLoadingImage:r,$delay:.45*t},t))})})]}),(0,o.jsxs)(eV,{animate:{gap:j?"0.25rem":0},transition:{...$,gap:{delay:j?0:.2}},children:[(0,o.jsx)(H.M,{children:j&&(0,o.jsx)(ez,{variants:{expanded:{height:"auto"},collapsed:{height:0}},initial:"collapsed",animate:"expanded",exit:"collapsed",transition:$,children:(0,o.jsx)(er,{})})}),(0,o.jsxs)(eD,{children:[(0,o.jsxs)(eY,{onClick:()=>{F(),P()},$isRefinePanelOpen:j,children:[(0,o.jsx)(_.O,{size:"150%",icon:j?"close":"discover_tune",color:"currentColor",iconSet:_.G.GOOGLE_SYMBOLS}),(0,o.jsx)(e0,{children:l("imagefx_settings_button_text")})]}),(0,o.jsx)(eh.u,{content:l("imagefx_download_button_tooltip"),disabled:!T,delay:50,sideOffset:5,children:(0,o.jsxs)(eY,{onClick:()=>{var e,t;(null==y?void 0:null===(e=y.selectedImage)||void 0===e?void 0:e.url)&&(a([{event:z.E_.DOWNLOAD,eventProperties:[{key:z.Nn.TOOL_NAME,stringValue:p.Nv.IMAGE_FX}],eventMetadata:{mediaGenerationId:null===(t=y.selectedImage)||void 0===t?void 0:t.id}}]),(0,h.ox)({src:y.selectedImage.url,title:y.prompt,prefix:"image_fx",extension:"jpg"}),s({text:l("imagefx_download_success"),type:p.$n.SUCCESS}))},$isRefinePanelOpen:j,disabled:!(null==y?void 0:null===(t=y.selectedImage)||void 0===t?void 0:t.url)||T,children:[(0,o.jsx)(_.O,{size:"150%",icon:"download",color:"currentColor",iconSet:_.G.GOOGLE_SYMBOLS}),(0,o.jsx)(e0,{children:l("imagefx_download_button_text")})]})}),(0,o.jsx)(eh.u,{content:l("imagefx_share_button_tooltip"),disabled:!T,delay:50,sideOffset:5,children:(0,o.jsxs)(eY,{$isRefinePanelOpen:j,disabled:!y||T,onClick:async()=>{y&&await G({mediaKey:null==y?void 0:y.selectedImage.id})},children:[(0,o.jsx)(_.O,{size:"150%",icon:"share",color:"currentColor"}),(0,o.jsx)(e0,{children:l("imagefx_share_button_text")})]})})]})]})]})},e_=(0,r.ZP)(I.E.div).withConfig({componentId:"sc-ef73efcd-0"})(["--navigation-header-height:4rem;--navigation-thumbnail-height:",";--global-footer-height:5rem;--setting-container-height:3.5rem;--gap:2rem;--min-mobile-size:240px;--min-size:360px;--misc-heights:calc( var(--navigation-header-height) + var(--global-footer-height) + var(--setting-container-height) + var(--gap) * 2 + var(--navigation-thumbnail-height) );--available-height-mobile:calc( 100vh - "," - var(--misc-heights) );--available-height:calc( 100vh - "," - var(--misc-heights) );--container-max-width:clamp( min(100%,var(--available-height-mobile),var(--min-mobile-size)),max(100%,30rem),max(min(100%,var(--available-height-mobile)),var(--min-mobile-size)) );--settings-panel-height:10rem;width:100%;max-width:var(--container-max-width);display:flex;flex-direction:column;@media (min-width:","){--available-height-mobile:calc( 70vh - "," - var( --misc-heights ) );}@media (min-width:","){--container-max-width:clamp( min(100%,var(--available-height),var(--min-size)),max(100%,30rem),max(min(100%,var(--available-height)),var(--min-size)) );}",";",""],e=>e.$showGrid?"0rem":"6rem",e=>e.theme.styles["header-height-mobile"],e=>e.theme.styles["header-height"],e=>e.theme.breakpoints.tablet,e=>e.theme.styles["header-height-mobile"],e=>e.theme.breakpoints.laptop,e=>{let{$isSettingPanelTransitioning:t}=e;return t&&(0,r.iv)(["transition:max-width "," ease,margin-bottom "," ease;"],"".concat(300,"ms"),"".concat(300,"ms"))},e=>{let{$isRefinePanelOpen:t}=e;return t&&(0,r.iv)(["max-width:min( (var(--available-height-mobile) - var(--settings-panel-height)),var(--container-max-width) );@media (min-width:","){max-width:min( (var(--available-height) - var(--settings-panel-height)),var(--container-max-width) );}"],e=>e.theme.breakpoints.laptop)}),eC=r.ZP.div.withConfig({componentId:"sc-ef73efcd-1"})(["display:flex;flex-direction:column;gap:1rem;align-items:center;order:2;"]),ek=r.ZP.div.withConfig({componentId:"sc-ef73efcd-2"})(["position:relative;aspect-ratio:1;width:100%;border-radius:16px;cursor:grab;&:active{cursor:grabbing;}"]),ej=r.ZP.div.withConfig({componentId:"sc-ef73efcd-3"})(["position:absolute;padding:4rem 2rem 2rem 2rem;display:flex;opacity:0;border-radius:16px;border-bottom:1px solid ",";flex-direction:column-reverse;gap:1rem;height:min-content;max-height:100%;width:100%;bottom:0;overflow-y:auto;background:linear-gradient( 180deg,rgba(0,0,0,0) 0%,rgba(0,0,0,0.1) 12%,rgba(0,0,0,0.5) 65%,rgba(0,0,0,0.8) 100% );pointer-events:none;transition:opacity 0.4s ease;& button{pointer-events:none;white-space:nowrap;}",""],e=>e.theme.colors["md-grey-900"],e=>{let{$showHoverContainer:t}=e;return t&&(0,r.iv)(["",":hover &{opacity:1;pointer-events:auto;}",":hover & button{pointer-events:auto;}"],ek,ek)}),eP=r.ZP.div.withConfig({componentId:"sc-ef73efcd-4"})(["",";color:",";"],e=>e.theme.typography.mdTitleLarge,e=>e.theme.colors["md-white"]),eS=r.ZP.div.withConfig({componentId:"sc-ef73efcd-5"})(["display:none;gap:0.25rem;justify-content:center;@media (min-width:","){display:flex;}"],e=>e.theme.breakpoints.tablet),eE=r.ZP.div.withConfig({componentId:"sc-ef73efcd-6"})(["position:relative;height:6rem;width:6rem;cursor:pointer;border-radius:8px;background-color:rgba(255,255,255,0.01);backdrop-filter:blur(16px);",""],e=>{let{$selected:t}=e;return!t&&(0,r.iv)(["& > img{opacity:0.4;box-shadow:none;&:hover{opacity:0.8;}}"])}),eO=(0,r.ZP)(J()).withConfig({componentId:"sc-ef73efcd-7"})(["border-radius:16px;"]),eR=(0,r.ZP)(J()).withConfig({componentId:"sc-ef73efcd-8"})(["border-radius:8px;box-shadow:0 0 0 1px ",";transition:opacity 0.2s ease,box-shadow 0.2s ease;"],e=>e.theme.colors["md-white"]),eZ=r.ZP.div.withConfig({componentId:"sc-ef73efcd-9"})(["display:grid;gap:0.5rem;grid-template-columns:1fr;grid-template-rows:1fr;width:100%;order:2;@media (min-width:","){grid-template-columns:1fr 1fr;grid-template-rows:1fr 1fr;}"],e=>e.theme.breakpoints.tablet),eL=r.ZP.div.withConfig({componentId:"sc-ef73efcd-10"})(["aspect-ratio:1;"," backdrop-filter:blur(40px);border-radius:16px;box-shadow:0 0 0 1px rgba(255,255,255,0.1);display:flex;justify-content:right;align-items:self-start;gap:1rem;flex-direction:row;padding:0.5rem;position:relative;overflow:hidden;&::after{"," background-repeat:no-repeat;background-size:200% 200%;content:'';position:absolute;top:0;left:0;width:400%;height:100%;animation:shimmer 2s infinite linear;animation-delay:","s;}@keyframes shimmer{from{transform:translateX(-100%);}to{transform:translateX(100%);}}"],e=>!e.$isLoadingImage&&(0,r.iv)(["background:rgba(255,255,255,0.05);"]),e=>e.$isLoadingImage&&(0,r.iv)(["background:linear-gradient( 135deg,rgba(255,255,255,0) 10%,rgba(255,255,255,0.14) 20%,rgba(255,255,255,0) 30% );"]),e=>e.$delay),eM=r.ZP.div.withConfig({componentId:"sc-ef73efcd-11"})(["display:flex;flex-direction:column;justify-content:center;gap:1rem;align-items:center;flex:1;padding:1rem;@media (min-width:","){gap:2rem;padding:0;}"],e=>e.theme.breakpoints.laptop),eT=r.ZP.div.withConfig({componentId:"sc-ef73efcd-12"})(["display:flex;flex-direction:row;align-items:center;gap:2rem;align-self:flex-start;justify-content:center;width:100%;position:relative;order:3;padding-top:1rem;@media (min-width:","){padding-top:0;padding-bottom:2rem;order:1;gap:0.7rem;}"],e=>e.theme.breakpoints.tablet),eG=r.ZP.div.withConfig({componentId:"sc-ef73efcd-13"})(["display:flex;flex-direction:row;gap:1rem;@media (min-width:","){gap:0.7rem;flex:2;}"],e=>e.theme.breakpoints.tablet),eN=r.ZP.button.withConfig({componentId:"sc-ef73efcd-14"})(["display:flex;align-items:center;justify-content:center;color:black;background-color:",";border-radius:9999px;width:2.5rem;height:2.5rem;min-width:2.5rem;@media (min-width:","){width:3rem;height:3rem;min-width:3rem;}&[disabled]{background-color:",";color:black;}"],e=>e.theme.colors["md-white"],e=>e.theme.breakpoints.tablet,e=>e.theme.colors["md-grey-900"]),eF=(0,r.ZP)(eN).withConfig({componentId:"sc-ef73efcd-15"})(["order:3;"]),e$=r.ZP.div.withConfig({componentId:"sc-ef73efcd-16"})(["display:flex;align-items:center;justify-content:center;order:2;@media (min-width:","){flex-grow:1;order:3;}"],e=>e.theme.breakpoints.tablet),eA=r.ZP.div.withConfig({componentId:"sc-ef73efcd-17"})(["",";padding:0.25rem 0.75rem;border-radius:40px;box-shadow:0 0 0 1px ",";background-color:",";text-align:center;@media (min-width:","){",";padding:0;border-radius:none;box-shadow:none;background-color:transparent;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;}"],e=>e.theme.typography.mdLabelMedium,e=>e.theme.colors["md-grey-800"],e=>e.theme.colors["md-grey-900"],e=>e.theme.breakpoints.tablet,e=>e.theme.typography.aitkHeadline1),eV=(0,r.ZP)(I.E.div).withConfig({componentId:"sc-ef73efcd-18"})(["display:flex;flex-direction:column;gap:0.45rem;max-width:35rem;width:100%;order:3;@media (max-height:900px){max-width:25rem;}"]),ez=(0,r.ZP)(I.E.div).withConfig({componentId:"sc-ef73efcd-19"})(["overflow:hidden;"]),eD=r.ZP.div.withConfig({componentId:"sc-ef73efcd-20"})(["display:flex;gap:0.25rem;padding-bottom:0.5rem;"]),eY=r.ZP.button.withConfig({componentId:"sc-ef73efcd-21"})(["display:flex;flex:1;align-items:center;justify-content:center;padding:1rem 0.75rem;gap:0.5rem;",";gap:0.25rem;color:",";background-color:",";transition:border-radius 0.2s ease-in-out,filter 0.2s ease,opacity 0.2s ease;&:disabled{color:",";}border-radius:4px;&:first-of-type{border-top-left-radius:28px;border-bottom-left-radius:28px;}&:last-of-type{border-top-right-radius:28px;border-bottom-right-radius:28px;}"," &:disabled{color:",";}&:not(:disabled):hover{filter:brightness(1.25);}"],e=>e.theme.typography.mdLabelLarge,e=>e.theme.colors["md-white"],e=>e.theme.colors["md-grey-900"],e=>e.theme.colors["md-grey-700"],e=>{let{$isRefinePanelOpen:t}=e;return t&&(0,r.iv)(["&:first-of-type{border-top-left-radius:4px;border-bottom-left-radius:28px;}&:last-of-type{border-top-right-radius:4px;border-bottom-right-radius:28px;}"])},e=>e.theme.colors["md-grey-700"]),eB=r.ZP.div.withConfig({componentId:"sc-ef73efcd-22"})(["display:grid;grid-template-columns:repeat(2,1fr);grid-template-rows:repeat(2,1fr);gap:0.5rem;order:2;overflow:hidden;width:100%;aspect-ratio:1 / 1;background-color:",";border:1px solid ",";border-radius:56px;",""],e=>e.theme.colors["md-grey-900"],e=>e.theme.colors["md-grey-800"],e=>e.$hasContent&&(0,r.iv)(["background-color:unset;border:unset;border-radius:16px;"])),eU=r.ZP.div.withConfig({componentId:"sc-ef73efcd-23"})(["display:flex;flex:1;position:relative;cursor:pointer;border-radius:16px;background-color:",";"],e=>e.theme.colors["aitk-blurple-700"]),eK=(0,r.ZP)(J()).withConfig({componentId:"sc-ef73efcd-24"})(["border-radius:16px;transition:transform 0.4s cubic-bezier(0.54,0,0,1),border-radius 0.2s;",":hover &{border-radius:12px;transform:scale(0.95);}"],eU),eX=(0,r.ZP)(k.h).withConfig({componentId:"sc-ef73efcd-25"})(["position:absolute;bottom:1.5rem;right:1.5rem;opacity:0;background-color:",";border-radius:9999px;align-items:center;padding:0.5rem;transform:scale(0.9);transition:opacity 0.4s 0.1s ease,transform 0.4s cubic-bezier(0.54,0,0,1);",":hover &{opacity:1;transform:scale(1);}&:hover{background-color:",";}"],e=>e.theme.colors["md-grey-800"],eU,e=>e.theme.colors["md-grey-700"]),eW=r.ZP.div.withConfig({componentId:"sc-ef73efcd-26"})(["display:flex;align-items:flex-end;justify-content:space-between;"]),eH=r.ZP.div.withConfig({componentId:"sc-ef73efcd-27"})(["display:flex;flex-wrap:wrap;gap:1rem;"]),eQ=r.ZP.button.withConfig({componentId:"sc-ef73efcd-28"})([""," align-items:center;align-self:stretch;background-color:",";border-radius:2rem;color:",";display:flex;gap:0.5rem;justify-content:center;padding:0.625rem 1.5rem 0.625rem 1rem;transition:filter 0.2s ease,color 0.2s ease;&[disabled]{color:",";}&:not(:disabled):hover{filter:brightness(1.15);}"],e=>e.theme.typography.mdLabelLarge,e=>e.theme.colors["aitk-blurple-200"],e=>e.theme.colors["aitk-blurple-700"],e=>e.theme.colors["md-grey-400"]),eJ=r.ZP.button.withConfig({componentId:"sc-ef73efcd-29"})([""," align-items:center;align-self:stretch;background-color:",";border-radius:2rem;color:",";display:flex;gap:0.5rem;justify-content:center;padding:0.625rem 1.5rem 0.625rem 1rem;transition:filter 0.2s ease,color 0.2s ease;&[disabled]{color:",";}&:not(:disabled):hover{filter:brightness(1.25);}"],e=>e.theme.typography.mdLabelLarge,e=>e.theme.colors["md-grey-900"],e=>e.theme.colors["md-white"],e=>e.theme.colors["md-grey-400"]),eq=r.ZP.button.withConfig({componentId:"sc-ef73efcd-30"})(["display:flex;align-items:center;justify-content:center;color:",";background-color:",";border-radius:9999px;width:2.5rem;height:2.5rem;transition:filter 0.2s ease;&:not(:disabled):hover{filter:brightness(1.25);}"],e=>e.theme.colors["md-white"],e=>e.theme.colors["md-black"]),e0=r.ZP.span.withConfig({componentId:"sc-ef73efcd-31"})(["@media (max-width:","),(max-height:900px){display:none;}"],e=>e.theme.breakpoints.tablet);var e1=i(95244),e5=i(71283);let e2=r.ZP.div.withConfig({componentId:"sc-c8aa2a85-0"})(["overflow-x:auto;width:100%;&::-webkit-scrollbar{display:none;}"]),e3=r.ZP.div.withConfig({componentId:"sc-c8aa2a85-1"})(["display:inline-flex;align-content:flex-start;flex-wrap:nowrap;gap:0.5rem;padding:1rem;width:100%;@media (min-width:","){justify-content:center;justify-items:center;flex-wrap:wrap;padding:2rem;-ms-overflow-style:none;scrollbar-width:none;&::-webkit-scrollbar{display:none;}}"],e=>e.theme.breakpoints.tablet),e4=(0,r.ZP)(I.E.button).withConfig({componentId:"sc-c8aa2a85-2"})(["background-color:",";display:flex;white-space:nowrap;gap:0.5rem;height:2.25rem;padding:0.5rem 0.75rem;border-radius:8px;transition:background-color 0.2s ease,color 0.2s ease;align-items:center;",";&:hover{background-color:",";color:black;}"],e=>e.theme.colors["md-grey-900"],e=>e.theme.typography.mdLabelLarge,e=>e.theme.colors["aitk-blurple-300"]),e7=(0,r.ZP)(I.E.button).withConfig({componentId:"sc-c8aa2a85-3"})(["background-color:",";display:flex;white-space:nowrap;gap:0.5rem;height:2.25rem;padding:0.5rem 0.75rem;border-radius:8px;transition:background-color 0.2s ease,color 0.2s ease;align-items:center;",";&:hover{background-color:",";color:white;}"],e=>e.theme.colors["md-grey-800"],e=>e.theme.typography.mdLabelLarge,e=>e.theme.colors["md-grey-600"]);var e8=i(39879),e9=i(68300),e6=i(78030),te=i(3444),tt=i(726);let ti=()=>(0,o.jsx)(te.Q,{background:(0,o.jsx)(to,{autoplay:!0,loop:!0,src:e9}),headline:(0,o.jsx)(m.cC,{i18nKey:"imagefx_sign_in_prompt"}),subheading:(0,o.jsx)(m.cC,{i18nKey:"error_subheading"}),body:(0,o.jsx)(e6.$,{imageSrc:(0,h.Fr)("/website/content/image-fx-please-sign-in.webp"),seed:-1010538901,prompt:"cluttered artist studio, light shining through, welcoming",mediaKey:"CAMaJDZiZjRkOTJiLWZkYWItNGU3YS1iYmM4LTRjMDhkNmVhNDBiNCIDQ0FFKiQ0ZjUxYWQ2YS00Y2UyLTRkMzktYjBlNC04MjVkZjcwZTljZGY",colorTheme:"BLUE"}),ctas:(0,o.jsx)(tr,{children:(0,o.jsx)(tt.aV,{hasFullLabelOnMobile:!0})}),ctaFirst:!0}),to=(0,r.ZP)(e8.J5).withConfig({componentId:"sc-137bf2c9-0"})(["pointer-events:none;position:absolute;top:0;left:0;width:100%;height:100%;path{fill:",";}"],e=>e.theme.colors["aitk-blue-700"]),tr=r.ZP.span.withConfig({componentId:"sc-137bf2c9-1"})(["button{background:",";&:hover{background:",";}}"],e=>e.theme.colors["aitk-blue-300"],e=>e.theme.colors["aitk-blue-200"]);var tn=i(3959),ta=i(11163),tl=i(23126),ts=i(56674),td=i(59512),tc=i(61542),tm=i(39332);let tp=e=>{let{isLoadingImage:t,colorTheme:i="BLURPLE"}=e;return"/tools/image-fx"!==(0,tm.usePathname)()?(0,o.jsx)(o.Fragment,{}):(0,o.jsx)(ef.b,{colorTheme:i,children:(0,o.jsx)(H.M,{initial:!1,children:t&&(0,o.jsxs)(th,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:[(0,o.jsx)(tg,{autoplay:!0,loop:!0,src:e9}),(0,o.jsx)(tu,{autoplay:!0,loop:!0,src:e9})]},"imageFX_lottie_bg_player")})})},th=(0,r.ZP)(I.E.div).withConfig({componentId:"sc-2d726f40-0"})(["position:absolute;top:0;left:0;width:100%;height:100%;pointer-events:none;overflow:hidden;"]),tg=(0,r.ZP)(e8.J5).withConfig({componentId:"sc-2d726f40-1"})(["height:auto;left:-20%;position:absolute;top:-20%;width:80rem;path{fill:",";}"],e=>e.theme.currentThemeColor["700"]),tu=(0,r.ZP)(e8.J5).withConfig({componentId:"sc-2d726f40-2"})(["bottom:-20%;height:auto;position:absolute;right:-20%;width:80rem;path{fill:",";}"],e=>e.theme.currentThemeColor["700"]);var tf=i(80423),tx=i(62288),tb=i(16058),tv=i(13205);let tw=()=>{let[,e]=(0,g.KO)(u.jV),{handleLogEvent:t}=(0,z.an)(),{isSignedIn:i}=(0,tv.A)(),r=(0,l.useSlate)(),[a,c]=(0,n.useState)(V.G0),[m,f]=(0,n.useState)(!1),[x,b]=(0,n.useState)(""),[,w]=(0,g.KO)(u.Cl),{fetchImages:I,isLoading:y}=v(),{fetchEnhancedPrompt:_,isLoading:C}=(0,tn.Y)({userPrompt:(0,ts.Mv)(r.children),toolName:p.dx.IMAGE_FX,onSuccess:e=>{let{data:t}=e,i=(0,ts.Mv)(r.children),o=(0,ts.aP)({prompt:i,enhancedPrompt:t,toolName:p.dx.IMAGE_FX});w(e=>({...e,oldWordRects:(0,tf.Yb)({editor:r,newElements:o})})),r.delete({at:{anchor:r.start([]),focus:r.end([])}}),r.insertNodes(o)}}),k=()=>{let e=(0,h.vV)(),t=r.children,i=(0,ts.Mv)(t);if(""===i)return;let o=(0,ts.Y)(t);b(o),x!==o&&_({prompt:i,id:e}),I({imagePrompt:i,id:e})},j=(0,ta.useRouter)(),P=(0,ei.ER)(i?j.query.mediaKey:""),{remix:S,toggleRefinePanel:E,isRefinePanelOpen:O}=(0,d.T)(e=>({remix:e.remix,toggleRefinePanel:e.toggleRefinePanel,isRefinePanelOpen:e.isRefinePanelOpen}));(0,tc.$)({mediaKey:P,enabled:!!P,onSuccess:e=>{let i=(0,h.vV)(),o=[{id:(0,h.vV)(),type:F.x.PARAGRAPH,children:[{text:e.prompt}]}];r.delete({at:{anchor:r.start([]),focus:r.end([])}}),r.insertNodes(o),_({prompt:e.prompt,id:i}),S({id:e.id,prompt:e.prompt,images:[e.image],selectedImage:e.image}),t([{event:z.E_.REMIX,eventProperties:[{key:z.Nn.TOOL_NAME,stringValue:p.Nv.IMAGE_FX},{key:z.Nn.MEDIA_KEY,stringValue:P}]}])}});let R=(0,n.useRef)(null),{inputContainerHeight:Z}=(0,tb.T)({inputContainerRef:R,isInputContainerFocused:m});if((0,n.useEffect)(()=>{e("BLURPLE")},[e]),!i)return(0,o.jsx)(ti,{});let L=(0,ts.b1)(r.children);return(0,o.jsxs)(ty,{children:[(0,o.jsx)(tp,{isLoadingImage:y}),(0,o.jsxs)(t_,{$expanded:m,$settingsOpen:O,children:[(0,o.jsx)(tP,{$hideOnMobile:m,children:(0,o.jsx)(ey,{isLoadingImage:y})}),(0,o.jsxs)(tk,{onFocus:()=>{f(!0)},onBlur:()=>{f(!1)},ref:R,style:{height:Z},$settingsOpen:O,children:[(0,o.jsx)(tj,{userPrompt:(0,ts.Mv)(r.children),onClear:()=>{t([{event:z.E_.START_OVER,eventProperties:[{key:z.Nn.TOOL_NAME,stringValue:p.Nv.IMAGE_FX}]}]),r.delete({at:{anchor:r.start([]),focus:r.end([])}})},onSubmit:()=>{k(),c((0,ei.k1)(7,L)),E(!1),f(!1)},isLoadingEnhancedPrompt:C,isLoadingImage:y}),(0,o.jsx)(tS,{selectedChipLabels:L,chipOptions:a,setChipOptions:c,onChipClick:e=>{var i;let o=null===(i=V.Wk.find(t=>t.chip.label===e.label))||void 0===i?void 0:i.chipOptions;if(!o)throw Error("an impossible default chip was entered!");t([{event:z.E_.ADD_CHIP,eventProperties:[{key:z.Nn.CHIP_LABEL,stringValue:e.label},{key:z.Nn.TOOL_NAME,stringValue:p.Nv.IMAGE_FX}]}]);let n={label:e.label,value:e.label},a=[n,...o.map(e=>({label:e,value:e}))];r.insertNodes([(0,tl.lV)({currentOption:n,options:a}),(0,ts.IU)()],{at:r.end([])}),l.ReactEditor.focus(r),s.YR.select(r,r.end([]))},isLoadingEnhancedPrompt:C,isLoadingImage:y})]})]}),(0,o.jsx)(tC,{})]})},tI=()=>{let e=(0,n.useMemo)(()=>(0,a.VC)((0,l.withReact)((0,s.Jh)())),[]);return(0,o.jsx)(l.Slate,{editor:e,initialValue:e1.Zc,children:(0,o.jsx)(tw,{})})},ty=r.ZP.div.withConfig({componentId:"sc-977181ae-0"})(["height:100%;overflow:auto;overflow-x:hidden;padding:0;justify-content:center;color:",";background-color:black;bottom:0;@media (min-width:","){display:flex;flex-direction:column;align-items:center;padding:0 2rem;}",";"],e=>e.theme.colors["md-white"],e=>e.theme.breakpoints.laptop,tx.VV),t_=r.ZP.div.withConfig({componentId:"sc-977181ae-1"})(["display:grid;flex:1;width:100%;min-height:0;max-width:2400px;position:relative;isolation:isolate;grid-template-columns:minmax(0,41.75rem) 2rem minmax(35rem,1fr);grid-template-rows:100%;grid-template-areas:'input padding result ';@media (max-width:","){--column-size:250px;--row-size:150px;grid-template-rows:",";grid-template-columns:100%;height:100%;grid-template-areas:'result' 'input';}"],e=>e.theme.breakpoints.laptop,e=>e.$expanded?"0 1fr":"auto 1fr"),tC=(0,r.ZP)(td.Mp).withConfig({componentId:"sc-977181ae-2"})(["padding:1rem 2rem 1.5rem;color:",";isolation:isolate;@media (max-width:","){display:none;}"],e=>e.theme.colors["md-grey-400"],e=>e.theme.breakpoints.laptop),tk=(0,r.ZP)(I.E.div).withConfig({componentId:"sc-977181ae-3"})(["display:flex;flex-direction:column;grid-area:input;justify-content:center;z-index:1;",""],e=>{if(e.$settingsOpen)return(0,r.iv)(["@media (max-width:","){display:none;}"],e=>e.theme.breakpoints.laptop)}),tj=(0,r.ZP)(e=>{let{onClear:t,onSubmit:i,userPrompt:r,isLoadingEnhancedPrompt:a,isLoadingImage:s,className:d}=e,{handleLogEvent:c}=(0,z.an)(),[m]=(0,n.useState)((0,V.El)()),g=(0,l.useSlate)(),u=r.length>0,f=()=>{let e=(0,V.El)(),t=[{id:(0,h.vV)(),type:F.x.PARAGRAPH,children:[{text:e}]}];g.delete({at:{anchor:g.start([]),focus:g.end([])}}),g.insertNodes(t),i(e),c([{event:z.E_.IM_FEELING_LUCKY,eventProperties:[{key:z.Nn.TOOL_NAME,stringValue:p.Nv.IMAGE_FX}]}])};return(0,o.jsx)(D,{children:(0,o.jsxs)(Y,{className:d,children:[(0,o.jsx)(B,{children:(0,o.jsxs)(U,{children:[(0,o.jsx)(y.h,{placeholder:m,renderPlaceholder:e=>{let{children:t,attributes:i}=e;return(0,o.jsx)($._,{attributes:i,children:t})},onSubmit:()=>{u?i():f()}}),(0,o.jsx)(K,{})]})}),(0,o.jsx)(W,{children:(0,o.jsx)(j,{hasUserPrompt:u,isLoadingPrompt:a,isLoadingImage:s,onSubmit:i,onStartOver:t,onImFeelingLucky:f})}),a&&(0,o.jsx)(X,{})]})})}).withConfig({componentId:"sc-977181ae-4"})([""]),tP=r.ZP.div.withConfig({componentId:"sc-977181ae-5"})(["display:",";grid-area:result;@media (min-width:","){display:flex;}"],e=>e.$hideOnMobile?"none":"flex",e=>e.theme.breakpoints.laptop),tS=(0,r.ZP)(e=>{let{selectedChipLabels:t,className:i,chipOptions:r,setChipOptions:n,onChipClick:a}=e,{t:s}=(0,m.$G)(),d=(0,l.useSlate)();return(0,o.jsx)(e2,{className:i,children:(0,o.jsx)(e3,{children:(0,o.jsxs)(H.M,{mode:"popLayout",children:[(0,o.jsxs)(e7,{onMouseDown:h.uT,onClick:()=>{n((0,ei.k1)(7,t)),l.ReactEditor.focus(d)},layout:!0,initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1,transition:{type:"spring",stiffness:100}},exit:{opacity:0,scale:.8},children:[(0,o.jsx)(_.O,{size:"1.125rem",color:e5.rS.colors["aitk-blurple-300"],icon:"refresh",iconSet:_.G.GOOGLE_SYMBOLS}),s("more_chip_button")]},"chip_more"),(0,ei.zc)({selectedChipLabels:t,chipOptions:r}).map((e,i)=>(0,o.jsx)(e4,{onMouseDown:h.uT,onClick:()=>{a(e),n([...r,...(0,ei.k1)(1,t)])},layout:!0,initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1,transition:{type:"spring",stiffness:100,delay:.1*i}},exit:{opacity:0,scale:.8,transition:{delay:.04*i}},children:e.label},e.label))]})})})}).withConfig({componentId:"sc-977181ae-6"})([""]);var tE=i(1082),tO=i.n(tE);let tR=()=>{let[e]=(0,g.KO)(u.jV),t=(0,l.useSlate)(),{imageFxResults:i,isGridMode:r,setIsGridMode:n,getCurrentImageFxResult:a,getHasPrevImageFxResult:s,goToPrevImageFxResult:c,getHasNextImageFxResult:p,setCurrentRefineProperties:h,goToNextImageFxResult:f}=(0,d.T)(e=>({imageFxResults:e.imageFxResults,isGridMode:e.isGridMode,getCurrentImageFxResult:e.getCurrentImageFxResult,getHasPrevImageFxResult:e.getHasPrevImageFxResult,goToPrevImageFxResult:e.goToPrevImageFxResult,getHasNextImageFxResult:e.getHasNextImageFxResult,goToNextImageFxResult:e.goToNextImageFxResult,setCurrentRefineProperties:e.setCurrentRefineProperties,setIsGridMode:e.setIsGridMode})),b=a(),{t:v}=(0,m.$G)(),w=s(),I=p(),y=i.length,_=i.findIndex(e=>{let{id:t}=e;return t===(null==b?void 0:b.id)}),C=e=>{if((0,x.UG)()&&e){if(e.refineProperties&&h(e.refineProperties),!e.slatePrompt){let i=e.prompt;if(!i)return;t.delete({at:{anchor:t.start([]),focus:t.end([])}}),t.insertNodes((0,ts.IU)(i));return}t.delete({at:{anchor:t.start([]),focus:t.end([])}}),t.insertNodes(e.slatePrompt)}};return(0,o.jsxs)(tZ,{children:[(0,o.jsxs)(tL,{children:[(0,o.jsx)(tM,{onClick:()=>{C(c())},disabled:!w,icon:"arrow_left_alt",iconProps:{iconSet:"GOOGLE_SYMBOLS"},label:v("toolbar_prev_page_button_label")}),(0,o.jsx)(tT,{children:v("imagefx_toolbar_image_count",{count:"".concat(_+1," / ").concat(y)})}),(0,o.jsx)(tM,{icon:"arrow_right_alt",onClick:()=>{C(f())},disabled:!I,iconProps:{iconSet:"GOOGLE_SYMBOLS"},label:v("toolbar_next_page_button_label")})]}),(0,o.jsx)(tG,{"aria-label":v("imagefx_grid_toggle_label"),checked:!r,onCheckedChange:()=>n(!r),uncheckedIcon:"grid_view",checkedIcon:"gallery_thumbnail",color:e})]})},tZ=r.ZP.div.withConfig({componentId:"sc-c830ba30-0"})(["",";border-radius:32px;border:1px solid ",";background:",";padding:0.4rem;display:flex;flex-direction:row;justify-content:center;@media (min-width:","){justify-content:space-between;padding:0.5rem;}"],e=>e.theme.styles["glass-resting-full-style"],e=>e.theme.colors["aitk-white-15"],e=>e.theme.colors["aitk-grey-75"],e=>e.theme.breakpoints.laptop),tL=r.ZP.div.withConfig({componentId:"sc-c830ba30-1"})(["display:flex;flex-direction:row;align-items:center;gap:0.75rem;"]),tM=(0,r.ZP)(k.h).withConfig({componentId:"sc-c830ba30-2"})(["border-radius:9999px;padding:0.25rem;&:disabled{color:",";}&:not([disabled]):hover{background:",";}&:not([disabled]):active{background:",";}"],e=>e.theme.colors["md-grey-700"],e=>e.theme.colors["aitk-white-15"],e=>e.theme.colors["aitk-white-25"]),tT=r.ZP.div.withConfig({componentId:"sc-c830ba30-3"})(["",";color:",";"],e=>e.theme.typography.aitkHeadline2,e=>e.theme.colors["md-grey-300"]),tG=(0,r.ZP)(ex).withConfig({componentId:"sc-c830ba30-4"})(["display:none;@media (min-width:","){display:initial;}"],e=>e.theme.breakpoints.laptop),tN=e=>{let{isCollapsed:t,toggleIsCollapsed:i,hasShimmer:r,children:n,className:a,...s}=e,d=(0,l.useSlate)(),c=(0,ts.Mv)(d.children);return t?(0,o.jsxs)(tV,{onClick:()=>{"function"==typeof i&&i()},children:[c||s.placeholder,(0,o.jsx)(tz,{}),(0,o.jsx)(tx.pl,{$hasShimmer:!!r})]}):(0,o.jsxs)(t$,{className:a,children:[(0,o.jsxs)(tA,{children:[(0,o.jsx)(tD,{...s,$hasText:!!c}),(0,o.jsx)(tY,{})]}),n,(0,o.jsx)(tx.pl,{$hasShimmer:!!r})]})},tF=(0,r.iv)(["position:relative;overflow:auto;display:flex;flex-direction:column;flex:2.5;height:100%;border-radius:24px;border:1px solid ",";background:",";",";@media (max-width:","){background:none;border:none;backdrop-filter:unset;}"],e=>e.theme.colors["aitk-white-15"],e=>e.theme.colors["aitk-grey-75"],e=>e.theme.styles["glass-resting-full-style"],e=>e.theme.breakpoints.laptop),t$=r.ZP.div.withConfig({componentId:"sc-b21bbd56-0"})(["",";"],tF),tA=r.ZP.div.withConfig({componentId:"sc-b21bbd56-1"})(["position:relative;height:100%;overflow:hidden;flex:1;padding:1.5rem;@media (max-width:","){padding:1rem;}"],e=>e.theme.breakpoints.laptop),tV=r.ZP.button.withConfig({componentId:"sc-b21bbd56-2"})(["",";",";color:",";flex:0;min-height:5.5rem;padding:1.5rem;text-align:left;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;"],tF,e=>e.theme.typography.aitkInput4,e=>e.theme.colors["md-grey-100"]),tz=r.ZP.div.withConfig({componentId:"sc-b21bbd56-3"})(["background:linear-gradient(90deg,rgba(0,0,0,0) 40%,#000000 100%);position:absolute;width:100%;height:100%;top:0;left:0;"]),tD=(0,r.ZP)(y.h).withConfig({componentId:"sc-b21bbd56-4"})(["overflow-y:",";"],e=>e.$hasText?"auto":"unset"),tY=(0,r.ZP)(A.nU).withConfig({componentId:"sc-b21bbd56-5"})(["position:absolute;top:0;left:0;right:0;bottom:0;"]);var tB=i(87462),tU=i(25360),tK=i(75320),tX=i(66681),tW=i(36206),tH=i(77342);let tQ=(0,n.forwardRef)((e,t)=>{let{pressed:i,defaultPressed:o=!1,onPressedChange:r,...a}=e,[l=!1,s]=(0,tH.T)({prop:i,onChange:r,defaultProp:o});return(0,n.createElement)(tK.WV.button,(0,tB.Z)({type:"button","aria-pressed":l,"data-state":l?"on":"off","data-disabled":e.disabled?"":void 0},a,{ref:t,onClick:(0,tW.M)(e.onClick,()=>{e.disabled||s(!l)})}))});var tJ=i(78990);let tq="ToggleGroup",[t0,t1]=(0,tU.b)(tq,[tX.Pc]),t5=(0,tX.Pc)(),t2=n.forwardRef((e,t)=>{let{type:i,...o}=e;if("single"===i)return n.createElement(t7,(0,tB.Z)({},o,{ref:t}));if("multiple"===i)return n.createElement(t8,(0,tB.Z)({},o,{ref:t}));throw Error(`Missing prop \`type\` expected on \`${tq}\``)}),[t3,t4]=t0(tq),t7=n.forwardRef((e,t)=>{let{value:i,defaultValue:o,onValueChange:r=()=>{},...a}=e,[l,s]=(0,tH.T)({prop:i,defaultProp:o,onChange:r});return n.createElement(t3,{scope:e.__scopeToggleGroup,type:"single",value:l?[l]:[],onItemActivate:s,onItemDeactivate:n.useCallback(()=>s(""),[s])},n.createElement(ie,(0,tB.Z)({},a,{ref:t})))}),t8=n.forwardRef((e,t)=>{let{value:i,defaultValue:o,onValueChange:r=()=>{},...a}=e,[l=[],s]=(0,tH.T)({prop:i,defaultProp:o,onChange:r}),d=n.useCallback(e=>s((t=[])=>[...t,e]),[s]),c=n.useCallback(e=>s((t=[])=>t.filter(t=>t!==e)),[s]);return n.createElement(t3,{scope:e.__scopeToggleGroup,type:"multiple",value:l,onItemActivate:d,onItemDeactivate:c},n.createElement(ie,(0,tB.Z)({},a,{ref:t})))}),[t9,t6]=t0(tq),ie=n.forwardRef((e,t)=>{let{__scopeToggleGroup:i,disabled:o=!1,rovingFocus:r=!0,orientation:a,dir:l,loop:s=!0,...d}=e,c=t5(i),m=(0,tJ.gm)(l),p={role:"group",dir:m,...d};return n.createElement(t9,{scope:i,rovingFocus:r,disabled:o},r?n.createElement(tX.fC,(0,tB.Z)({asChild:!0},c,{orientation:a,dir:m,loop:s}),n.createElement(tK.WV.div,(0,tB.Z)({},p,{ref:t}))):n.createElement(tK.WV.div,(0,tB.Z)({},p,{ref:t})))}),it="ToggleGroupItem",ii=n.forwardRef((e,t)=>{let i=t4(it,e.__scopeToggleGroup),o=t6(it,e.__scopeToggleGroup),r=t5(e.__scopeToggleGroup),a=i.value.includes(e.value),l=o.disabled||e.disabled,s={...e,pressed:a,disabled:l},d=n.useRef(null);return o.rovingFocus?n.createElement(tX.ck,(0,tB.Z)({asChild:!0},r,{focusable:!l,active:a,ref:d}),n.createElement(io,(0,tB.Z)({},s,{ref:t}))):n.createElement(io,(0,tB.Z)({},s,{ref:t}))}),io=n.forwardRef((e,t)=>{let{__scopeToggleGroup:i,value:o,...r}=e,a=t4(it,i),l={role:"radio","aria-checked":e.pressed,"aria-pressed":void 0},s="single"===a.type?l:void 0;return n.createElement(tQ,(0,tB.Z)({},s,r,{ref:t,onPressedChange:e=>{e?a.onItemActivate(o):a.onItemDeactivate(o)}}))});var ir=i(50696),ia=i(96219);let il=e=>{let{color:t,children:i,currentTabValue:r,tabs:n,onTabClick:a,isCollapsed:l,toggleIsCollapsed:s,hasShimmer:d,className:c}=e,{t:p}=(0,m.$G)();return(0,o.jsx)(ef.b,{colorTheme:t,children:(0,o.jsxs)(is,{className:c,$isCollapsed:l,children:[(0,o.jsx)(id,{$isCollapsed:l,children:i}),(0,o.jsxs)(ic,{children:[(0,o.jsx)(im,{value:r,type:"single",onValueChange:e=>{e&&a(e)},children:n.map(e=>{let t=e.value===r;return(0,o.jsxs)(ih,{value:e.value,disabled:t,children:[t&&(0,o.jsx)(ig,{layoutId:"background",transition:{duration:.125}}),"string"==typeof e.label?e.label:e.label(p)]},e.value)})}),(0,o.jsx)(iu,{variant:"OUTLINED",isDarkMode:!0,icon:l?"collapse_all":"expand_all",color:t,iconProps:{iconSet:"GOOGLE_SYMBOLS"},onClick:()=>s(),children:(0,o.jsx)(ia.T,{children:l?p("toolbox_collapse_button_label"):p("toolbox_expand_button_label")})})]}),(0,o.jsx)(tx.pl,{$hasShimmer:!!d})]})})},is=r.ZP.div.withConfig({componentId:"sc-14065f08-0"})(["position:relative;flex:1;display:flex;flex-direction:column;border-radius:24px;overflow:hidden;border:1px solid ",";background:",";"," ",""],e=>e.theme.colors["aitk-white-15"],e=>e.theme.colors["aitk-grey-75"],e=>e.$isCollapsed&&(0,r.iv)(["flex:none;"]),e=>e.theme.styles["glass-resting-full-style"]),id=r.ZP.div.withConfig({componentId:"sc-14065f08-1"})(["flex:1;overflow-y:auto;"," &:focus{outline:none;}&::-webkit-scrollbar{width:0.25rem;}&::-webkit-scrollbar-thumb{border-radius:2px;background-color:",";}&::-webkit-scrollbar-track{margin-top:24px;}"],e=>e.$isCollapsed&&(0,r.iv)(["display:none;"]),e=>e.theme.colors["md-white"]),ic=r.ZP.div.withConfig({componentId:"sc-14065f08-2"})(["display:flex;align-items:center;padding-right:0.25rem;flex-direction:row;justify-content:space-between;border-top:1px solid ",";"],e=>e.theme.colors["aitk-white-05"]),im=(0,r.ZP)(t2).withConfig({componentId:"sc-14065f08-3"})(["display:flex;flex-direction:row;"]),ip="1.5rem",ih=(0,r.ZP)(ii).withConfig({componentId:"sc-14065f08-4"})(["position:relative;padding:0.75rem ",";",";&[data-state='on']{color:",";}&:first-child{border-bottom-left-radius:24px;}&:hover{color:",";}"],ip,e=>e.theme.typography.mdTitleSmall,e=>e.theme.currentThemeColor[300],e=>e.theme.currentThemeColor[300]),ig=(0,r.ZP)(I.E.div).withConfig({componentId:"sc-14065f08-5"})(["position:absolute;bottom:0;left:",";width:calc(100% - ("," + ","));height:3px;background:",";border-radius:9999px;border-bottom-left-radius:0;border-bottom-right-radius:0;"],ip,ip,ip,e=>e.theme.currentThemeColor[300]),iu=(0,r.ZP)(ir.zx).withConfig({componentId:"sc-14065f08-6"})(["display:none;@media (min-width:","){display:flex;padding:0.5rem;}"],e=>e.theme.breakpoints.laptop);var ix=i(91070);let ib=e=>ix.PD.includes(e.variant);var iv=i(33328);let iw=e=>{let{imageFxCarouselSwiperRef:t,images:i,className:r}=e,[a]=(0,g.KO)(u.jV),{t:l}=(0,m.$G)(),{setActiveCarouselIndex:s,activeCarouselIndex:c}=(0,d.T)(e=>({setActiveCarouselIndex:e.setActiveCarouselIndex,activeCarouselIndex:e.activeCarouselIndex}));return(0,n.useEffect)(()=>{var e;null==t||null===(e=t.current)||void 0===e||e.swiper.slideTo(c)},[c,t]),(0,o.jsxs)(iI,{className:r,children:[(0,o.jsx)(iy,{children:(0,o.jsx)(q.tq,{ref:t,modules:[ee.N1],slidesPerView:"auto",centeredSlides:!0,spaceBetween:10,keyboard:{enabled:!0},onSlideChange:e=>{s(e.activeIndex)},style:{overflow:"visible",height:"100%",width:"100%",aspectRatio:"1/1"},children:i.map((e,t)=>(0,o.jsx)(q.o5,{onClick:()=>{s(t)},children:(0,o.jsx)(i_,{...e})},t))})}),(0,o.jsx)(iC,{children:i.map((e,t)=>ib(e)&&e.imageData?(0,o.jsx)(ik,{onClick:()=>{s(t)},children:(0,o.jsx)(ij,{$color:a,$isSelected:c===t,src:e.imageData.imageSrc,alt:l("imagefx_generated_image_alt"),width:80,height:80})},t):(0,o.jsx)(ik,{onClick:()=>{s(t)},children:(0,o.jsx)(iP,{variant:"EMPTY",hasShimmer:!1})},t))})]})},iI=r.ZP.div.withConfig({componentId:"sc-6acea400-0"})(["display:flex;flex-direction:column;flex:1;gap:0.25rem;height:100%;align-items:center;"]),iy=r.ZP.div.withConfig({componentId:"sc-6acea400-1"})(["display:flex;height:100%;width:100%;flex:1;@media (min-width:","){padding:0.125rem ","px;}"],e=>e.theme.breakpoints.laptop,40),i_=(0,r.ZP)(b.M).withConfig({componentId:"sc-6acea400-2"})(["display:flex;flex:1;width:100%;height:100%;"]),iC=r.ZP.div.withConfig({componentId:"sc-6acea400-3"})(["display:none;flex-direction:row;gap:0.25rem;@media (min-width:","){display:flex;}"],e=>e.theme.breakpoints.laptop),ik=r.ZP.button.withConfig({componentId:"sc-6acea400-4"})([""]),ij=(0,r.ZP)(J()).withConfig({componentId:"sc-6acea400-5"})(["border-radius:4px;border:2px solid transparent;opacity:0.4;transition:"," ease;&:hover{opacity:0.75;}",""],e=>e.theme.styles["hover-state-fade-in-time"],e=>e.$isSelected&&(0,r.iv)(["border:2px solid ",";opacity:unset;"],iv.L2[e.$color][300])),iP=(0,r.ZP)(b.M).withConfig({componentId:"sc-6acea400-6"})(["border-radius:4px;width:","px;height:","px;"],80,80),iS=e=>{let{imageFxCarouselSwiperRef:t,isLoadingImages:i,onGridCardClick:r}=e,[n]=(0,g.KO)(u.jV),{imageFxResults:a,getCurrentImageFxResult:l,isGridMode:s}=(0,d.T)(e=>({imageFxResults:e.imageFxResults,getCurrentImageFxResult:e.getCurrentImageFxResult,isGridMode:e.isGridMode})),c=(0,ei.m6)({imageFxResults:a,currentImageFxResult:l(),isLoadingImages:i,color:n});return s?(0,o.jsx)(iE,{children:c.map((e,t)=>(0,o.jsx)(iO,{...e,onClick:()=>{r(t)}},t))}):(0,o.jsx)(iw,{images:c,imageFxCarouselSwiperRef:t})},iE=r.ZP.div.withConfig({componentId:"sc-83fac0f9-0"})(["display:grid;height:100%;gap:0.25rem;grid-template-columns:repeat(2,1fr);grid-template-rows:repeat(2,1fr);"]),iO=(0,r.ZP)(b.M).withConfig({componentId:"sc-83fac0f9-1"})(["display:flex;flex:1;width:100% !important;height:100% !important;"]);var iR=i(42960);let iZ=(0,n.forwardRef)((e,t)=>{let{children:i,color:r,icon:n,iconProps:a,isSpecial:l,...s}=e;return(0,o.jsx)(ef.b,{colorTheme:r,children:(0,o.jsxs)(iL,{ref:t,$hasIcon:!!n,$isSpecial:!!l,...s,children:[n&&(0,o.jsx)(iM,{color:"currentColor",size:"1.25rem",...a,icon:n}),i,(0,o.jsx)(iT,{})]})})}),iL=(0,r.ZP)(I.E.button).withConfig({componentId:"sc-1d3ca327-0"})(["color:",";white-space:nowrap;position:relative;display:flex;gap:0.5rem;flex-direction:row;align-items:center;width:min-content;border-radius:8px;border:1px solid ",";padding:0.375rem 1rem;&:hover{border:1px solid transparent;}"," ",""],e=>e.theme.colors["aitk-white-50"],e=>e.theme.colors["aitk-white-05"],e=>e.$hasIcon&&(0,r.iv)(["padding:0.375rem 1rem 0.375rem 0.5rem;"]),e=>e.$isSpecial&&(0,r.iv)(["background-color:",";color:",";border:1px solid transparent;"],e=>e.theme.colors["aitk-white-05"],e=>e.theme.currentThemeColor[100])),iM=(0,r.ZP)(_.O).withConfig({componentId:"sc-1d3ca327-1"})(["color:",";"],e=>e.theme.currentThemeColor[300]),iT=r.ZP.div.withConfig({componentId:"sc-1d3ca327-2"})(["border-radius:8px;position:absolute;top:0;left:0;width:100%;height:100%;pointer-events:none;transition:"," ease-in-out;",":not([disabled]):hover &{background:",";}",":not([disabled]):active &{background:",";}"],e=>e.theme.styles["hover-state-fade-in-time"],iL,e=>e.theme.colors["aitk-white-15"],iL,e=>e.theme.colors["aitk-white-25"]),iG={onMouseDown:h.uT,layout:!0,initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1,transition:{type:"spring",stiffness:100,delay:.1}},exit:{opacity:0,scale:.8,transition:{delay:.04}}},iN=()=>{let[e]=(0,g.KO)(u.jV),{t}=(0,m.$G)(),{handleLogEvent:i}=(0,z.an)(),r=(0,l.useSlate)(),a=(0,ts.b1)(r.children),[d,c]=(0,n.useState)(V.G0),h=e=>{var t;let o=null===(t=V.Wk.find(t=>t.chip.label===e.label))||void 0===t?void 0:t.chipOptions;if(!o)throw Error("an impossible default chip was entered!");i([{event:z.E_.ADD_CHIP,eventProperties:[{key:z.Nn.CHIP_LABEL,stringValue:e.label},{key:z.Nn.TOOL_NAME,stringValue:p.Nv.IMAGE_FX}]}]);let n={label:e.label,value:e.label},m=[n,...o.map(e=>({label:e,value:e}))];r.insertNodes([(0,tl.lV)({currentOption:n,options:m}),(0,ts.IU)()],{at:r.end([])}),l.ReactEditor.focus(r),s.YR.select(r,r.end([])),c([...d,...(0,ei.k1)(1,a)])};return(0,o.jsx)(iF,{children:(0,o.jsxs)(H.M,{mode:"popLayout",children:[(0,o.jsx)(iZ,{...iG,isSpecial:!0,icon:"refresh",color:e,onClick:()=>{c((0,ei.k1)(V.WN,a)),l.ReactEditor.focus(r)},children:t("more_chip_button")}),(0,ei.zc)({selectedChipLabels:a,chipOptions:d}).map(t=>(0,n.createElement)(iZ,{...iG,key:t.label,color:e,onClick:()=>{h(t)}},t.label))]})})},iF=r.ZP.div.withConfig({componentId:"sc-4c439f42-0"})(["display:none;justify-content:center;flex-flow:wrap;padding:1rem;gap:0.5rem;@media (min-width:","){display:flex;}"],e=>e.theme.breakpoints.laptop),i$=e=>{let{onSubmit:t,isLoading:i}=e,[r]=(0,g.KO)(u.jV),{t:n}=(0,m.$G)(),{handleLogEvent:a}=(0,z.an)(),[,s]=(0,g.KO)(u.s1),f=(0,c.p)(),x=(0,l.useSlate)(),{currentImageFxResultSet:b}=(0,d.T)(e=>({currentImageFxResultSet:e.currentImageFxResultSet})),v=(0,ts.Mv)(x.children),w=!!v.length;return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)(iV,{children:[w?(0,o.jsx)(iA,{color:r,isDarkMode:!0,items:[{type:"ICON_BUTTON",icon:"content_copy",onClick:()=>{(0,h.vQ)(v),f({text:n("imagefx_advanced_card_prompt_label"),type:p.$n.SUCCESS})},label:n("copy_prompt")},{type:"ICON_BUTTON",icon:"restart_alt",onClick:()=>{a([{event:z.E_.START_OVER,eventProperties:[{key:z.Nn.TOOL_NAME,stringValue:p.Nv.IMAGE_FX}]}]),x.delete({at:{anchor:x.start([]),focus:x.end([])}})},label:n("imagefx_start_over_button")},{type:"ICON_BUTTON",icon:"feedback",onClick:()=>{var e,t,i,o;s({isDialogOpen:!0,mediaGenerationId:null!==(o=null!==(i=null==b?void 0:null===(e=b.selectedImage)||void 0===e?void 0:e.id)&&void 0!==i?i:null==b?void 0:null===(t=b.images.at(0))||void 0===t?void 0:t.id)&&void 0!==o?o:""})},iconProps:{isOutlined:!0},label:n("feedback_flag_output")}]}):(0,o.jsx)("div",{}),(0,o.jsx)(iz,{onSubmit:t,isLoading:i})]}),(0,o.jsx)(iN,{})]})},iA=(0,r.ZP)(iR.N).withConfig({componentId:"sc-649dc349-0"})(["backdrop-filter:unset;border:1px solid ",";"],e=>e.theme.colors["aitk-white-05"]),iV=r.ZP.div.withConfig({componentId:"sc-649dc349-1"})(["display:flex;flex-direction:row;justify-content:space-between;padding:0 1.5rem 1.5rem 1.5rem;border-bottom:none;@media (min-width:","){border-bottom:1px solid ",";}"],e=>e.theme.breakpoints.laptop,e=>e.theme.colors["aitk-white-05"]),iz=e=>{let{isLoading:t,onSubmit:i}=e,[r]=(0,g.KO)(u.jV),{handleLogEvent:n}=(0,z.an)(),{t:a}=(0,m.$G)(),s=(0,l.useSlate)(),d=(0,ts.Mv)(s.children),c=!!d.length;return t?(0,o.jsxs)(iY,{color:r,isDarkMode:!0,disabled:!0,variant:"OUTLINED",children:[(0,o.jsx)(C.$,{color:r,size:"1.25rem",borderSize:"0.125rem"}),(0,o.jsx)(iD,{children:a("media_creating_spinner")})]}):c?(0,o.jsx)(iB,{icon:"spark",iconProps:{iconSet:"GOOGLE_SYMBOLS"},color:r,variant:"FILLED",isDarkMode:!0,onClick:()=>{i(d)},children:(0,o.jsx)(iD,{children:a("media_create_button_prompt")})}):(0,o.jsx)(iB,{icon:"casino",iconProps:{isOutlined:!0},color:r,isDarkMode:!0,variant:"FILLED",onClick:()=>{let e=(0,V.El)(),t=[{id:(0,h.vV)(),type:F.x.PARAGRAPH,children:[{text:e}]}];s.delete({at:{anchor:s.start([]),focus:s.end([])}}),s.insertNodes(t),i(e),n([{event:z.E_.IM_FEELING_LUCKY,eventProperties:[{key:z.Nn.TOOL_NAME,stringValue:p.Nv.IMAGE_FX}]}])},children:(0,o.jsx)(iD,{children:a("im_feeling_lucky_button_text")})})},iD=r.ZP.div.withConfig({componentId:"sc-649dc349-2"})(["display:none;@media (min-width:","){display:unset;}"],e=>e.theme.breakpoints.laptop),iY=(0,r.ZP)(ir.zx).withConfig({componentId:"sc-649dc349-3"})(["@media (min-width:","){padding:0.625rem 1.5rem 0.625rem 1rem;}"],e=>e.theme.breakpoints.laptop),iB=(0,r.ZP)(ir.zx).withConfig({componentId:"sc-649dc349-4"})(["@media (max-width:","){padding:0.75rem 1.5rem;}"],e=>e.theme.breakpoints.laptop);var iU=i(58265);let iK={INPUT:"INPUT",SETTINGS:"SETTINGS"},iX=[{value:"INPUT",label:(0,iU.yE)("imagefx_input_tab_label")},{value:"SETTINGS",label:(0,iU.yE)("imagefx_settings_button_text")}],iW=e=>iK.hasOwnProperty(e),iH=e=>{let{currentTabValue:t,onSubmit:i,placeholder:r,isLoadingImages:n,isLoadingEnhancedPrompt:a,className:l}=e;switch(t){case"INPUT":return(0,o.jsx)(iQ,{onSubmit:i,placeholder:r,renderPlaceholder:e=>{let{children:t,attributes:i}=e;return(0,o.jsx)($._,{attributes:i,children:t})},className:l,children:(0,o.jsx)(i$,{onSubmit:i,isLoading:n||a})});case"SETTINGS":return(0,o.jsx)(iJ,{});default:return console.error("Unknown tab value: ".concat(t)),null}},iQ=(0,r.ZP)(tN).withConfig({componentId:"sc-1e38cd4c-0"})(["border:none;border-radius:0;background:none;border-bottom-left-radius:0;border-bottom-right-radius:0;"]),iJ=(0,r.ZP)(er).withConfig({componentId:"sc-1e38cd4c-1"})(["flex:1;border:none;border-radius:0;background:none;"]);var iq=i(58868);let i0=()=>{let e=(0,n.useRef)(null),[t,i]=(0,n.useState)(null);return(0,iq.L)(()=>{if(null==e?void 0:e.current){let t=new ResizeObserver(e=>{let t=null==e?void 0:e.at(0);t&&i(t)});return t.observe(null==e?void 0:e.current),()=>{(null==e?void 0:e.current)&&t.unobserve(null==e?void 0:e.current),t.disconnect()}}},[]),{elementRef:e,element:t}},i1=iX.filter(e=>"INPUT"!==e.value),i5=e=>{var t;let{imageFxCarouselSwiperRef:i,placeholder:r,onSubmit:a,isLoadingImages:l,isLoadingEnhancedPrompt:s,className:c}=e,{setIsGridMode:m,setActiveCarouselIndex:p}=(0,d.T)(e=>({setIsGridMode:e.setIsGridMode,setActiveCarouselIndex:e.setActiveCarouselIndex})),[h]=(0,g.KO)(u.jV),[f,x]=(0,n.useState)("SETTINGS"),{elementRef:b,element:v}=i0(),{elementRef:w,element:I}=i0(),[y,_]=(0,n.useState)(!1),C=null==I?void 0:null===(t=I.borderBoxSize.at(0))||void 0===t?void 0:t.blockSize,k=()=>{_(!y)},j=(()=>{var e,t,i;let o=null==I?void 0:null===(e=I.borderBoxSize.at(0))||void 0===e?void 0:e.inlineSize,r=null==v?void 0:null===(t=v.contentBoxSize.at(0))||void 0===t?void 0:t.inlineSize,n=null==v?void 0:null===(i=v.contentBoxSize.at(0))||void 0===i?void 0:i.blockSize;return o&&r&&n?Math.max(Math.min(r-o,n),440):440})();return(0,o.jsxs)(i2,{className:c,children:[(0,o.jsxs)(i3,{ref:b,children:[(0,o.jsx)(tp,{isLoadingImage:l||s,colorTheme:h}),(0,o.jsx)(i8,{$size:j,children:(0,o.jsx)(iS,{imageFxCarouselSwiperRef:i,isLoadingImages:l,onGridCardClick:e=>{p(e),m(!1)}})}),(0,o.jsxs)(i4,{ref:w,children:[(0,o.jsx)(tR,{}),(0,o.jsxs)(i7,{children:[(0,o.jsx)(tN,{onSubmit:a,placeholder:r,isCollapsed:!!C&&!(C>675)&&!y,toggleIsCollapsed:k,renderPlaceholder:e=>{let{children:t,attributes:i}=e;return(0,o.jsx)($._,{attributes:i,children:t})},children:(0,o.jsx)(i$,{onSubmit:a,isLoading:l||s})}),(0,o.jsx)(il,{color:h,currentTabValue:f,onTabClick:e=>{iW(e)?x(e):console.error("Invalid toolbox tab value: ",e)},tabs:i1,isCollapsed:!!C&&!(C>675)&&y,toggleIsCollapsed:k,children:(0,o.jsx)(iH,{currentTabValue:f,onSubmit:a,placeholder:r,isLoadingImages:l,isLoadingEnhancedPrompt:s})})]})]})]}),(0,o.jsx)(i9,{})]})},i2=r.ZP.div.withConfig({componentId:"sc-70ba1550-0"})(["",";display:none;flex-direction:column;overflow:hidden;max-width:100%;flex:1;color:white;@media (min-width:","){display:flex;}"],tx.VV,e=>e.theme.breakpoints.laptop),i3=r.ZP.div.withConfig({componentId:"sc-70ba1550-1"})(["align-self:center;display:flex;flex-direction:row-reverse;align-items:center;justify-content:center;max-width:100%;width:100%;position:relative;flex:1;gap:1.5rem;padding:0 1.5rem;max-width:125rem;min-width:0;min-height:0;"]),i4=r.ZP.div.withConfig({componentId:"sc-70ba1550-2"})(["isolation:isolate;display:flex;flex-direction:column;flex:1;gap:0.5rem;height:100%;max-width:32rem;min-width:32rem;max-height:64rem;"]),i7=r.ZP.div.withConfig({componentId:"sc-70ba1550-3"})(["display:flex;flex-direction:column;flex:1;gap:0.5rem;overflow:hidden;"]),i8=r.ZP.div.withConfig({componentId:"sc-70ba1550-4"})(["isolation:isolate;align-self:center;max-width:150rem;max-height:100%;height:",";width:",";min-width:0;"],e=>"".concat(e.$size,"px"),e=>"".concat(e.$size,"px")),i9=(0,r.ZP)(td.Mp).withConfig({componentId:"sc-70ba1550-5"})(["padding:1.5rem;color:",";"],e=>e.theme.colors["aitk-white-50"]),i6=e=>{let{imageFxCarouselSwiperRef:t,placeholder:i,onSubmit:r,isLoadingImages:a,isLoadingEnhancedPrompt:l,className:s}=e,[c]=(0,g.KO)(u.jV),[m,p]=(0,n.useState)("INPUT"),{imageFxResults:h,getCurrentImageFxResult:f}=(0,d.T)(e=>({imageFxResults:e.imageFxResults,getCurrentImageFxResult:e.getCurrentImageFxResult})),x=(0,ei.m6)({imageFxResults:h,currentImageFxResult:f(),isLoadingImages:a,color:c}).map(e=>({...e,isHotbarFocused:!0}));return(0,o.jsxs)(oe,{className:s,children:[(0,o.jsx)(ot,{children:(0,o.jsx)(oi,{images:x,imageFxCarouselSwiperRef:t})}),(0,o.jsx)(tR,{}),(0,o.jsx)(oo,{isCollapsed:!1,toggleIsCollapsed:()=>{},color:c,currentTabValue:m,onTabClick:e=>{iW(e)?p(e):console.error("Invalid toolbox tab value: ",e)},tabs:iX,children:(0,o.jsx)(iH,{currentTabValue:m,onSubmit:r,placeholder:i,isLoadingImages:a,isLoadingEnhancedPrompt:l})})]})},oe=r.ZP.div.withConfig({componentId:"sc-51b3c073-0"})(["padding:0.5rem;",";display:flex;flex-direction:column;overflow:hidden;flex:1;gap:0.5rem;color:",";@media (min-width:","){display:none;}"],tx.VV,e=>e.theme.colors["md-white"],e=>e.theme.breakpoints.laptop),ot=r.ZP.div.withConfig({componentId:"sc-51b3c073-1"})(["max-height:40%;"]),oi=(0,r.ZP)(iw).withConfig({componentId:"sc-51b3c073-2"})(["max-width:100%;max-height:100%;aspect-ratio:1 / 1;margin:auto;"]),oo=(0,r.ZP)(il).withConfig({componentId:"sc-51b3c073-3"})(["overflow:hidden;flex:1;display:flex;flex-direction:column;"]),or=()=>{let{handleLogEvent:e}=(0,z.an)(),t=(0,ta.useRouter)(),i=(0,l.useSlate)(),[,r]=(0,g.KO)(u.jV),a=(0,n.useRef)(null),{isSignedIn:s}=(0,tv.A)(),[,c]=(0,g.KO)(u.Cl),{remix:m,setImageFxResult:f,getCurrentImageFxResult:x,currentRefineProperties:b}=(0,d.T)(e=>({remix:e.remix,getCurrentImageFxResult:e.getCurrentImageFxResult,currentRefineProperties:e.currentRefineProperties,setImageFxResult:e.setImageFxResult})),{isBelowWidth:w}=(0,em.r)(ec.A.laptop),[I]=(0,n.useState)((0,V.El)()),[y,_]=(0,n.useState)(""),{fetchImages:C,isLoading:k}=v(),{fetchEnhancedPrompt:j,isLoading:P}=(0,tn.Y)({userPrompt:(0,ts.Mv)(i.children),toolName:p.dx.IMAGE_FX,onSuccess:e=>{var t,o,r;let{data:n,id:a,input:l}=e,s=null!==(r=null===(t=l.userInput)||void 0===t?void 0:t.textPrompt)&&void 0!==r?r:"",d=(0,ts.aP)({prompt:s,enhancedPrompt:n,toolName:p.dx.IMAGE_FX});f({partialResult:{id:a,prompt:s,normalizedPrompt:(0,ts.Y)(d),slatePrompt:d}}),(null===(o=x())||void 0===o?void 0:o.id)===a&&(c(e=>({...e,oldWordRects:(0,tf.Yb)({editor:i,newElements:d})})),i.delete({at:{anchor:i.start([]),focus:i.end([])}}),i.insertNodes(d))}}),S=e=>{if(""===e)return;let t=(0,h.vV)(),o=i.children,r=(0,ts.Y)(o);_(r);let n=null!=e?e:(0,ts.Mv)(o);y!==r&&j({prompt:n,id:t}),C({imagePrompt:n,id:t})},E=(0,ei.ER)(s?t.query.mediaKey:"");return(0,tc.$)({mediaKey:E,enabled:!!E,onSuccess:t=>{let o=(0,h.vV)(),r=[{id:(0,h.vV)(),type:F.x.PARAGRAPH,children:[{text:t.prompt}]}];i.delete({at:{anchor:i.start([]),focus:i.end([])}}),i.insertNodes(r),j({prompt:t.prompt,id:o});let n={id:t.id,prompt:t.prompt,images:[t.image],selectedImage:t.image};f({partialResult:{id:o,images:[{seed:t.image.seed,imageSrc:(0,h.e5)(t.image.base64),mediaKey:t.image.id,prompt:t.prompt}],refineProperties:{seedInfo:{seed:t.image.seed,imageSetIndex:null},numImages:1,temperature:b.temperature,isSeedLocked:b.isSeedLocked,aspectRatio:b.aspectRatio,imageModelInputType:b.imageModelInputType}},isNewCurrentResult:!0}),m(n),e([{event:z.E_.REMIX,eventProperties:[{key:z.Nn.TOOL_NAME,stringValue:p.Nv.IMAGE_FX},{key:z.Nn.MEDIA_KEY,stringValue:E}]}])}}),(0,n.useEffect)(()=>{(async()=>{var e,t,i,o,n;let a=null===(i=x())||void 0===i?void 0:null===(t=i.images)||void 0===t?void 0:null===(e=t.at(0))||void 0===e?void 0:e.imageSrc;if(!a)return;let l=null===(o=(await new(tO())(a,{quantizer:null!==(n=tO().Quantizer.WebWorker)&&void 0!==n?n:void 0}).getPalette()).Vibrant)||void 0===o?void 0:o.rgb;l&&r(iv.z_.reduce((e,t)=>{let i=tO().Util.rgbDiff(l,t.rgbVector);return i<e.diff?{diff:i,color:t.colorTheme}:e},{diff:1/0,color:"BLURPLE"}).color)})()},[x,r]),(0,o.jsx)(ol,{children:w?(0,o.jsx)(i6,{imageFxCarouselSwiperRef:a,placeholder:I,onSubmit:S,isLoadingImages:k,isLoadingEnhancedPrompt:P}):(0,o.jsx)(i5,{imageFxCarouselSwiperRef:a,placeholder:I,onSubmit:S,isLoadingImages:k,isLoadingEnhancedPrompt:P})})},on=e=>{let{children:t}=e,i=(0,n.useMemo)(()=>(0,a.VC)((0,l.withReact)((0,s.Jh)())),[]);return(0,o.jsx)(l.Slate,{editor:i,initialValue:e1.Zc,children:t})},oa=()=>{let{isSignedIn:e}=(0,tv.A)();return e?(0,o.jsx)(on,{children:(0,o.jsx)(or,{})}):(0,o.jsx)(ti,{})},ol=r.ZP.div.withConfig({componentId:"sc-a03a7341-0"})(["display:flex;justify-content:center;height:100%;overflow:hidden;"]);var os=i(79962),od=i(41664),oc=i.n(od);let om=()=>{let{t:e}=(0,m.$G)();return(0,o.jsx)(te.Q,{background:(0,o.jsx)(op,{autoplay:!0,loop:!0,src:e9}),headline:(0,o.jsx)(m.cC,{i18nKey:"imagefx_overfilled_headline"}),body:(0,o.jsx)(og,{children:(0,o.jsx)(e6.$,{imageSrc:(0,h.Fr)("/website/content/image-fx-at-capacity.webp"),prompt:"illustration of a sad bunny, cute, adorable, small, imperfect hand drawn, light blue background, anime",colorTheme:"BLUE",mediaKey:"CAMaJGVmZGI2ZDU1LWY5NzgtNDUwMi1hYjJmLTAzZWMyZTY2ZmJjMSIDQ0FFKiQ3OTI2MDQzMC1jYTE4LTQ3ODEtOWVjMS0yNjk1MWI0ZDU4ZDk",seed:-1010538898})}),footerSubheading:(0,o.jsx)(m.cC,{i18nKey:"musiclm_overfilled_footer_subheading"}),ctas:(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)(oh,{href:"/tools/music-fx",children:[(0,o.jsx)(_.O,{icon:"open_in_new",color:"currentColor",isOutlined:!0}),e("imagefx_overfilled_musiclm_cta")]}),(0,o.jsxs)(oh,{href:"/tools/text-fx",children:[(0,o.jsx)(_.O,{icon:"open_in_new",color:"currentColor",isOutlined:!0}),e("imagefx_overfilled_textfx_cta")]})]}),ctaFirst:!0})},op=(0,r.ZP)(e8.J5).withConfig({componentId:"sc-394f4af8-0"})(["pointer-events:none;position:absolute;top:0;left:0;width:100%;height:100%;path{fill:",";}"],e=>e.theme.colors["aitk-blue-700"]),oh=(0,r.ZP)(oc()).withConfig({componentId:"sc-394f4af8-1"})(["",";background:",";color:",";&:hover{background:",";}"],te.L,e=>e.theme.colors["aitk-blue-300"],e=>e.theme.colors["aitk-blue-700"],e=>e.theme.colors["aitk-blue-200"]),og=r.ZP.div.withConfig({componentId:"sc-394f4af8-2"})(["max-width:23rem;"]);var ou=!0,of=()=>{let{data:e,isSuccess:t}=(0,os.s)({tool:"IMAGE_FX",enabled:x.Z$});return(0,x.FL)()?(0,o.jsx)(oa,{}):t&&!e?(0,o.jsx)(om,{}):(0,o.jsx)(tI,{})}},61542:function(e,t,i){"use strict";i.d(t,{$:function(){return l}});var o=i(45329),r=i(28189);let n=e=>{let{id:t,prompt:i,seed:r,base64:n}=e,a=(0,o.e5)(n);return{id:(0,o.vV)(),prompt:i,image:{id:t,base64:n,url:a,seed:r}}},a=(e,t)=>{var i,o,r,a,l,s;if(!t)return;let d=null==t?void 0:null===(o=t.result)||void 0===o?void 0:null===(i=o.image)||void 0===i?void 0:i.seed,c=null==t?void 0:null===(a=t.result)||void 0===a?void 0:null===(r=a.image)||void 0===r?void 0:r.encodedImage,m=null==t?void 0:null===(s=t.result)||void 0===s?void 0:null===(l=s.image)||void 0===l?void 0:l.prompt;if(!d||!c||!m)throw Error("Error fetching image");return n({id:e,prompt:m,seed:d,base64:c})},l=e=>{let{mediaKey:t,onSuccess:i,enabled:o}=e,{data:n,...l}=r.h.media.fetchMedia.useQuery({mediaKey:t},{refetchOnMount:!0,enabled:o,onSuccess:e=>i(a(t,e))});return{...l,data:a(t,n)}}},30745:function(e,t,i){"use strict";i.d(t,{r:function(){return n}});var o=i(67294);let r=e=>parseInt(e.replace("px",""),10),n=e=>{let t=r(e),[i,n]=(0,o.useState)(null);return(0,o.useEffect)(()=>{let e=()=>{n(window.innerWidth<t)};return e(),window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e)}},[t]),{isBelowWidth:i}}}},function(e){e.O(0,[388,272,700,908,104,261,482,621,604,300,4,109,293,888,774,179],function(){return e(e.s=24485)}),_N_E=e.O()}]);